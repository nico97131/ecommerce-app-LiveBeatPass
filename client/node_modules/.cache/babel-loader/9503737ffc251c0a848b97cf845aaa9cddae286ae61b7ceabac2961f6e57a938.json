{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nicol\\xE1s\\\\diplomatura\\\\ecommerce\\\\ecommerce-app\\\\client\\\\src\\\\pages\\\\ProductList.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport defaultImagePre from './entradapre.jpg'; // Imagen cuando no hay sesión activa\nimport defaultImage from './entrada.jpg'; // Importa la imagen predeterminada\nimport './ProductList.css'; // Asegúrate de tener el archivo de estilos\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductList = ({\n  user\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const [products, setProducts] = useState([]);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [cartItems, setCartItems] = useState([]);\n  const [isCartVisible, setIsCartVisible] = useState(false);\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [filters, setFilters] = useState({\n    name: '',\n    maxPrice: '',\n    minPrice: '',\n    category: '',\n    sortOrder: ''\n  });\n  const [newProduct, setNewProduct] = useState({\n    name: '',\n    price: 0,\n    stock: 0,\n    category: ''\n  });\n  useEffect(() => {\n    console.log('Estado inicial del usuario:', user); // Verificar el usuario al cargar\n    fetch('http://localhost:5000/api/products').then(res => {\n      console.log('Estado de la respuesta:', res.status); // Log del estado HTTP\n      if (!res.ok) {\n        throw new Error(`Error al cargar productos: ${res.statusText}`);\n      }\n      return res.json();\n    }).then(data => {\n      console.log('Productos cargados desde el backend:', data); // Log para verificar los productos cargados\n      setProducts(data);\n      setFilteredProducts(data);\n    }).catch(err => console.error('Error al cargar productos:', err));\n  }, []);\n  const applyFilters = () => {\n    console.log('Aplicando filtros:', filters); // Log para verificar los filtros aplicados\n    let filtered = [...products];\n\n    // Filtrar por nombre\n    if (filters.name) {\n      filtered = filtered.filter(product => product.name.toLowerCase().includes(filters.name.toLowerCase()));\n    }\n\n    // Filtrar por precio mínimo\n    if (filters.minPrice) {\n      filtered = filtered.filter(product => product.price >= parseFloat(filters.minPrice));\n    }\n\n    // Filtrar por precio máximo\n    if (filters.maxPrice) {\n      filtered = filtered.filter(product => product.price <= parseFloat(filters.maxPrice));\n    }\n\n    // Filtrar por categoría\n    if (filters.category) {\n      filtered = filtered.filter(product => product.category === filters.category);\n    }\n\n    // Ordenar por precio\n    if (filters.sortOrder === 'asc') {\n      filtered.sort((a, b) => a.price - b.price);\n    } else if (filters.sortOrder === 'desc') {\n      filtered.sort((a, b) => b.price - a.price);\n    }\n    setFilteredProducts(filtered);\n  };\n  useEffect(() => {\n    applyFilters();\n  }, [filters, products]);\n  const handleFilterChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFilters({\n      ...filters,\n      [name]: value\n    });\n  };\n  const handleAddToCart = product => {\n    if ((user === null || user === void 0 ? void 0 : user.role) === 'admin') {\n      alert('Los administradores no pueden agregar productos al carrito.');\n      return;\n    }\n    if (!user) {\n      alert('Por favor, inicia sesión para agregar productos al carrito.');\n      return;\n    }\n    if (product.stock <= 0) {\n      alert('No hay stock disponible para este producto.');\n      return;\n    }\n    console.log('Producto agregado al carrito:', product); // Log del producto añadido\n\n    // Agregar producto al carrito\n    setCartItems(prevItems => {\n      const existingItem = prevItems.find(item => item.id === product.id);\n      if (existingItem) {\n        return prevItems.map(item => item.id === product.id ? {\n          ...item,\n          quantity: item.quantity + 1\n        } : item);\n      } else {\n        return [...prevItems, {\n          ...product,\n          quantity: 1\n        }];\n      }\n    });\n\n    // Calcular nuevo total\n    setTotalPrice(prevTotal => prevTotal + product.price);\n\n    // Mostrar el carrito\n    setIsCartVisible(true);\n\n    // Reducir el stock del producto\n    fetch('http://localhost:5000/api/products/reduce-stock', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        productId: product.id,\n        quantity: 1\n      })\n    }).then(res => {\n      if (!res.ok) {\n        throw new Error('No se pudo actualizar el stock');\n      }\n      setProducts(prevProducts => prevProducts.map(p => p.id === product.id ? {\n        ...p,\n        stock: p.stock - 1\n      } : p));\n    }).catch(err => console.error('Error al reducir stock:', err));\n  };\n  const handleDecreaseQuantity = productId => {\n    setCartItems(prevItems => {\n      return prevItems.map(item => item.id === productId ? {\n        ...item,\n        quantity: item.quantity - 1\n      } : item).filter(item => item.quantity > 0);\n    });\n    const product = cartItems.find(item => item.id === productId);\n    if (product) {\n      setTotalPrice(prevTotal => Math.max(prevTotal - product.price, 0));\n    }\n  };\n  const handleConfirmOrder = () => {\n    if ((user === null || user === void 0 ? void 0 : user.role) === 'admin') {\n      alert('Los administradores no pueden realizar compras.');\n      return;\n    }\n    if (cartItems.length === 0) {\n      alert('El carrito está vacío');\n      return;\n    }\n    const customerDni = user === null || user === void 0 ? void 0 : user.dni;\n    const validCartItems = cartItems.filter(item => !isNaN(parseFloat(item.price)) && parseFloat(item.price) > 0);\n    if (validCartItems.length !== cartItems.length) {\n      alert('Algunos productos tienen datos inválidos. Por favor, revisa tu carrito.');\n      return;\n    }\n    if (totalPrice <= 0) {\n      alert('El precio total no es válido. Por favor, revisa tu carrito.');\n      console.error('Precio total inválido:', totalPrice);\n      return;\n    }\n    console.log('Confirmando orden con:', {\n      customerDni,\n      validCartItems,\n      totalPrice\n    }); // Log de confirmación\n\n    navigate('/order-summary', {\n      state: {\n        cartItems: validCartItems,\n        totalPrice,\n        user\n      }\n    });\n  };\n\n  // NUEVO: Manejar cambios en los inputs para editar productos\n  const handleInputChange = (e, productId) => {\n    const {\n      name,\n      value\n    } = e.target;\n    setProducts(prevProducts => prevProducts.map(product => product.id === productId ? {\n      ...product,\n      [name]: value\n    } : product));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"product-list\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"section-title\",\n      children: \"Cartelera de Eventos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filters\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        placeholder: \"Buscar por nombre\",\n        value: filters.name,\n        onChange: handleFilterChange,\n        className: \"filter-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"minPrice\",\n        placeholder: \"Precio m\\xEDnimo\",\n        value: filters.minPrice,\n        onChange: handleFilterChange,\n        className: \"filter-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"maxPrice\",\n        placeholder: \"Precio m\\xE1ximo\",\n        value: filters.maxPrice,\n        onChange: handleFilterChange,\n        className: \"filter-input\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"sortOrder\",\n        value: filters.sortOrder,\n        onChange: handleFilterChange,\n        className: \"filter-select\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Ordenar por precio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"asc\",\n          children: \"Ascendente\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"desc\",\n          children: \"Descendente\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"category\",\n        value: filters.category,\n        onChange: handleFilterChange,\n        className: \"filter-select\",\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Seleccionar categor\\xEDa\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this), Array.from(new Set(products.map(p => p.category))).map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: category,\n          children: category\n        }, category, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-grid\",\n      children: filteredProducts.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: user ? product.image || defaultImage : defaultImagePre // Cambia la imagen según si hay sesión activa\n          ,\n          alt: product.name,\n          className: \"product-image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"product-name\",\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"product-price\",\n          children: [\"$\", product.price.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"product-stock\",\n          children: [\"Stock: \", user ? product.stock : 'Inicia sesión']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this), (user === null || user === void 0 ? void 0 : user.role) !== 'admin' && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn add-to-cart-btn\",\n          onClick: () => handleAddToCart(product),\n          children: \"Agregar al carrito\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 3\n        }, this)]\n      }, product.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }, this), isCartVisible && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Tu Carrito\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Total de productos: \", cartItems.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Unidades seleccionadas:\", ' ', cartItems.reduce((acc, item) => acc + item.quantity, 0)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"cart-items\",\n        children: cartItems.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"cart-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"$\", item.price.toFixed(2), \" x \", item.quantity]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn decrease-btn\",\n            onClick: () => handleDecreaseQuantity(item.id),\n            children: \"-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 17\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"cart-total\",\n        children: [\"Total: $\", totalPrice.toFixed(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn confirm-btn\",\n        onClick: handleConfirmOrder,\n        children: \"Confirmar Compra\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 216,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductList, \"2suuRczNes/fnFav/zH+aWl63Io=\", false, function () {\n  return [useNavigate];\n});\n_c = ProductList;\nexport default ProductList;\nvar _c;\n$RefreshReg$(_c, \"ProductList\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","defaultImagePre","defaultImage","jsxDEV","_jsxDEV","ProductList","user","_s","navigate","products","setProducts","filteredProducts","setFilteredProducts","cartItems","setCartItems","isCartVisible","setIsCartVisible","totalPrice","setTotalPrice","filters","setFilters","name","maxPrice","minPrice","category","sortOrder","newProduct","setNewProduct","price","stock","console","log","fetch","then","res","status","ok","Error","statusText","json","data","catch","err","error","applyFilters","filtered","filter","product","toLowerCase","includes","parseFloat","sort","a","b","handleFilterChange","e","value","target","handleAddToCart","role","alert","prevItems","existingItem","find","item","id","map","quantity","prevTotal","method","headers","body","JSON","stringify","productId","prevProducts","p","handleDecreaseQuantity","Math","max","handleConfirmOrder","length","customerDni","dni","validCartItems","isNaN","state","handleInputChange","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","Array","from","Set","src","image","alt","toFixed","onClick","reduce","acc","_c","$RefreshReg$"],"sources":["C:/Users/Nicolás/diplomatura/ecommerce/ecommerce-app/client/src/pages/ProductList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport defaultImagePre from './entradapre.jpg'; // Imagen cuando no hay sesión activa\r\nimport defaultImage from './entrada.jpg'; // Importa la imagen predeterminada\r\nimport './ProductList.css'; // Asegúrate de tener el archivo de estilos\r\n\r\nconst ProductList = ({ user }) => {\r\n  const navigate = useNavigate();\r\n  const [products, setProducts] = useState([]);\r\n  const [filteredProducts, setFilteredProducts] = useState([]);\r\n  const [cartItems, setCartItems] = useState([]);\r\n  const [isCartVisible, setIsCartVisible] = useState(false);\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  const [filters, setFilters] = useState({\r\n    name: '',\r\n    maxPrice: '',\r\n    minPrice: '',\r\n    category: '',\r\n    sortOrder: '',\r\n  });\r\n  const [newProduct, setNewProduct] = useState({ name: '', price: 0, stock: 0, category: '' });\r\n\r\n\r\n  useEffect(() => {\r\n    console.log('Estado inicial del usuario:', user); // Verificar el usuario al cargar\r\n    fetch('http://localhost:5000/api/products')\r\n      .then((res) => {\r\n        console.log('Estado de la respuesta:', res.status); // Log del estado HTTP\r\n        if (!res.ok) {\r\n          throw new Error(`Error al cargar productos: ${res.statusText}`);\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        console.log('Productos cargados desde el backend:', data); // Log para verificar los productos cargados\r\n        setProducts(data);\r\n        setFilteredProducts(data);\r\n      })\r\n      .catch((err) => console.error('Error al cargar productos:', err));\r\n  }, []);\r\n\r\n  const applyFilters = () => {\r\n    console.log('Aplicando filtros:', filters); // Log para verificar los filtros aplicados\r\n    let filtered = [...products];\r\n\r\n    // Filtrar por nombre\r\n    if (filters.name) {\r\n      filtered = filtered.filter((product) =>\r\n        product.name.toLowerCase().includes(filters.name.toLowerCase())\r\n      );\r\n    }\r\n\r\n    // Filtrar por precio mínimo\r\n    if (filters.minPrice) {\r\n      filtered = filtered.filter(\r\n        (product) => product.price >= parseFloat(filters.minPrice)\r\n      );\r\n    }\r\n\r\n    // Filtrar por precio máximo\r\n    if (filters.maxPrice) {\r\n      filtered = filtered.filter(\r\n        (product) => product.price <= parseFloat(filters.maxPrice)\r\n      );\r\n    }\r\n\r\n    // Filtrar por categoría\r\n    if (filters.category) {\r\n      filtered = filtered.filter(\r\n        (product) => product.category === filters.category\r\n      );\r\n    }\r\n\r\n    // Ordenar por precio\r\n    if (filters.sortOrder === 'asc') {\r\n      filtered.sort((a, b) => a.price - b.price);\r\n    } else if (filters.sortOrder === 'desc') {\r\n      filtered.sort((a, b) => b.price - a.price);\r\n    }\r\n\r\n    setFilteredProducts(filtered);\r\n  };\r\n\r\n  useEffect(() => {\r\n    applyFilters();\r\n  }, [filters, products]);\r\n\r\n  const handleFilterChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFilters({ ...filters, [name]: value });\r\n  };\r\n\r\n  const handleAddToCart = (product) => {\r\n    if (user?.role === 'admin') {\r\n      alert('Los administradores no pueden agregar productos al carrito.');\r\n      return;\r\n    }\r\n\r\n    if (!user) {\r\n      alert('Por favor, inicia sesión para agregar productos al carrito.');\r\n      return;\r\n    }\r\n\r\n    if (product.stock <= 0) {\r\n      alert('No hay stock disponible para este producto.');\r\n      return;\r\n    }\r\n\r\n    console.log('Producto agregado al carrito:', product); // Log del producto añadido\r\n\r\n    // Agregar producto al carrito\r\n    setCartItems((prevItems) => {\r\n      const existingItem = prevItems.find((item) => item.id === product.id);\r\n      if (existingItem) {\r\n        return prevItems.map((item) =>\r\n          item.id === product.id ? { ...item, quantity: item.quantity + 1 } : item\r\n        );\r\n      } else {\r\n        return [...prevItems, { ...product, quantity: 1 }];\r\n      }\r\n    });\r\n\r\n    // Calcular nuevo total\r\n    setTotalPrice((prevTotal) => prevTotal + product.price);\r\n\r\n    // Mostrar el carrito\r\n    setIsCartVisible(true);\r\n\r\n    // Reducir el stock del producto\r\n    fetch('http://localhost:5000/api/products/reduce-stock', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ productId: product.id, quantity: 1 }),\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          throw new Error('No se pudo actualizar el stock');\r\n        }\r\n        setProducts((prevProducts) =>\r\n          prevProducts.map((p) =>\r\n            p.id === product.id ? { ...p, stock: p.stock - 1 } : p\r\n          )\r\n        );\r\n      })\r\n      .catch((err) => console.error('Error al reducir stock:', err));\r\n  };\r\n\r\n  const handleDecreaseQuantity = (productId) => {\r\n    setCartItems((prevItems) => {\r\n      return prevItems\r\n        .map((item) =>\r\n          item.id === productId\r\n            ? { ...item, quantity: item.quantity - 1 }\r\n            : item\r\n        )\r\n        .filter((item) => item.quantity > 0);\r\n    });\r\n\r\n    const product = cartItems.find((item) => item.id === productId);\r\n    if (product) {\r\n      setTotalPrice((prevTotal) => Math.max(prevTotal - product.price, 0));\r\n    }\r\n  };\r\n\r\n  const handleConfirmOrder = () => {\r\n\r\n    if (user?.role === 'admin') {\r\n      alert('Los administradores no pueden realizar compras.');\r\n      return;\r\n    }\r\n    \r\n    if (cartItems.length === 0) {\r\n      alert('El carrito está vacío');\r\n      return;\r\n    }\r\n\r\n    const customerDni = user?.dni;\r\n    const validCartItems = cartItems.filter(\r\n      (item) => !isNaN(parseFloat(item.price)) && parseFloat(item.price) > 0\r\n    );\r\n\r\n    if (validCartItems.length !== cartItems.length) {\r\n      alert('Algunos productos tienen datos inválidos. Por favor, revisa tu carrito.');\r\n      return;\r\n    }\r\n\r\n    if (totalPrice <= 0) {\r\n      alert('El precio total no es válido. Por favor, revisa tu carrito.');\r\n      console.error('Precio total inválido:', totalPrice);\r\n      return;\r\n    }\r\n\r\n    console.log('Confirmando orden con:', { customerDni, validCartItems, totalPrice }); // Log de confirmación\r\n\r\n    navigate('/order-summary', {\r\n      state: {\r\n        cartItems: validCartItems,\r\n        totalPrice,\r\n        user,\r\n      },\r\n    });\r\n  };\r\n\r\n  // NUEVO: Manejar cambios en los inputs para editar productos\r\n  const handleInputChange = (e, productId) => {\r\n    const { name, value } = e.target;\r\n    setProducts((prevProducts) =>\r\n      prevProducts.map((product) =>\r\n        product.id === productId ? { ...product, [name]: value } : product\r\n      )\r\n    );\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"product-list\">\r\n      <h2 className=\"section-title\">Cartelera de Eventos</h2>\r\n\r\n      {/* Filtros */}\r\n      <div className=\"filters\">\r\n        <input\r\n          type=\"text\"\r\n          name=\"name\"\r\n          placeholder=\"Buscar por nombre\"\r\n          value={filters.name}\r\n          onChange={handleFilterChange}\r\n          className=\"filter-input\"\r\n        />\r\n        <input\r\n          type=\"number\"\r\n          name=\"minPrice\"\r\n          placeholder=\"Precio mínimo\"\r\n          value={filters.minPrice}\r\n          onChange={handleFilterChange}\r\n          className=\"filter-input\"\r\n        />\r\n        <input\r\n          type=\"number\"\r\n          name=\"maxPrice\"\r\n          placeholder=\"Precio máximo\"\r\n          value={filters.maxPrice}\r\n          onChange={handleFilterChange}\r\n          className=\"filter-input\"\r\n        />\r\n        <select\r\n          name=\"sortOrder\"\r\n          value={filters.sortOrder}\r\n          onChange={handleFilterChange}\r\n          className=\"filter-select\"\r\n        >\r\n          <option value=\"\">Ordenar por precio</option>\r\n          <option value=\"asc\">Ascendente</option>\r\n          <option value=\"desc\">Descendente</option>\r\n        </select>\r\n        <select\r\n          name=\"category\"\r\n          value={filters.category}\r\n          onChange={handleFilterChange}\r\n          className=\"filter-select\"\r\n        >\r\n          <option value=\"\">Seleccionar categoría</option>\r\n          {Array.from(new Set(products.map((p) => p.category))).map((category) => (\r\n            <option key={category} value={category}>\r\n              {category}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      {/* Lista de productos */}\r\n      <div className=\"product-grid\">\r\n        {filteredProducts.map((product) => (\r\n          <div key={product.id} className=\"product-card\">\r\n            <img\r\n              src={user ? (product.image || defaultImage) : defaultImagePre} // Cambia la imagen según si hay sesión activa\r\n              alt={product.name}\r\n              className=\"product-image\"\r\n            />\r\n            <h3 className=\"product-name\">{product.name}</h3>\r\n            <p className=\"product-price\">${product.price.toFixed(2)}</p>\r\n            <p className=\"product-stock\">Stock: {user ? product.stock : 'Inicia sesión'}</p>\r\n            \r\n            {user?.role !== 'admin' && (\r\n  <button\r\n    className=\"btn add-to-cart-btn\"\r\n    onClick={() => handleAddToCart(product)}\r\n  >\r\n    Agregar al carrito\r\n  </button>\r\n)}\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Carrito flotante */}\r\n      {isCartVisible && (\r\n        <div className=\"cart-sidebar\">\r\n          <h3>Tu Carrito</h3>\r\n          <p>Total de productos: {cartItems.length}</p>\r\n          <p>\r\n            Unidades seleccionadas:{' '}\r\n            {cartItems.reduce((acc, item) => acc + item.quantity, 0)}\r\n          </p>\r\n          <ul className=\"cart-items\">\r\n            {cartItems.map((item) => (\r\n              <li key={item.id} className=\"cart-item\">\r\n                <span>{item.name}</span>\r\n                <span>\r\n                  ${item.price.toFixed(2)} x {item.quantity}\r\n                </span>\r\n                <button\r\n                  className=\"btn decrease-btn\"\r\n                  onClick={() => handleDecreaseQuantity(item.id)}\r\n                >\r\n                  -\r\n                </button>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          <p className=\"cart-total\">Total: ${totalPrice.toFixed(2)}</p>\r\n          <button className=\"btn confirm-btn\" onClick={handleConfirmOrder}>\r\n            Confirmar Compra\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductList;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,eAAe,MAAM,kBAAkB,CAAC,CAAC;AAChD,OAAOC,YAAY,MAAM,eAAe,CAAC,CAAC;AAC1C,OAAO,mBAAmB,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE5B,MAAMC,WAAW,GAAGA,CAAC;EAAEC;AAAK,CAAC,KAAK;EAAAC,EAAA;EAChC,MAAMC,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACS,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACa,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAC5D,MAAM,CAACe,SAAS,EAAEC,YAAY,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACiB,aAAa,EAAEC,gBAAgB,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM,CAACmB,UAAU,EAAEC,aAAa,CAAC,GAAGpB,QAAQ,CAAC,CAAC,CAAC;EAC/C,MAAM,CAACqB,OAAO,EAAEC,UAAU,CAAC,GAAGtB,QAAQ,CAAC;IACrCuB,IAAI,EAAE,EAAE;IACRC,QAAQ,EAAE,EAAE;IACZC,QAAQ,EAAE,EAAE;IACZC,QAAQ,EAAE,EAAE;IACZC,SAAS,EAAE;EACb,CAAC,CAAC;EACF,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAG7B,QAAQ,CAAC;IAAEuB,IAAI,EAAE,EAAE;IAAEO,KAAK,EAAE,CAAC;IAAEC,KAAK,EAAE,CAAC;IAAEL,QAAQ,EAAE;EAAG,CAAC,CAAC;EAG5FzB,SAAS,CAAC,MAAM;IACd+B,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEzB,IAAI,CAAC,CAAC,CAAC;IAClD0B,KAAK,CAAC,oCAAoC,CAAC,CACxCC,IAAI,CAAEC,GAAG,IAAK;MACbJ,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEG,GAAG,CAACC,MAAM,CAAC,CAAC,CAAC;MACpD,IAAI,CAACD,GAAG,CAACE,EAAE,EAAE;QACX,MAAM,IAAIC,KAAK,CAAC,8BAA8BH,GAAG,CAACI,UAAU,EAAE,CAAC;MACjE;MACA,OAAOJ,GAAG,CAACK,IAAI,CAAC,CAAC;IACnB,CAAC,CAAC,CACDN,IAAI,CAAEO,IAAI,IAAK;MACdV,OAAO,CAACC,GAAG,CAAC,sCAAsC,EAAES,IAAI,CAAC,CAAC,CAAC;MAC3D9B,WAAW,CAAC8B,IAAI,CAAC;MACjB5B,mBAAmB,CAAC4B,IAAI,CAAC;IAC3B,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAKZ,OAAO,CAACa,KAAK,CAAC,4BAA4B,EAAED,GAAG,CAAC,CAAC;EACrE,CAAC,EAAE,EAAE,CAAC;EAEN,MAAME,YAAY,GAAGA,CAAA,KAAM;IACzBd,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEZ,OAAO,CAAC,CAAC,CAAC;IAC5C,IAAI0B,QAAQ,GAAG,CAAC,GAAGpC,QAAQ,CAAC;;IAE5B;IACA,IAAIU,OAAO,CAACE,IAAI,EAAE;MAChBwB,QAAQ,GAAGA,QAAQ,CAACC,MAAM,CAAEC,OAAO,IACjCA,OAAO,CAAC1B,IAAI,CAAC2B,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC9B,OAAO,CAACE,IAAI,CAAC2B,WAAW,CAAC,CAAC,CAChE,CAAC;IACH;;IAEA;IACA,IAAI7B,OAAO,CAACI,QAAQ,EAAE;MACpBsB,QAAQ,GAAGA,QAAQ,CAACC,MAAM,CACvBC,OAAO,IAAKA,OAAO,CAACnB,KAAK,IAAIsB,UAAU,CAAC/B,OAAO,CAACI,QAAQ,CAC3D,CAAC;IACH;;IAEA;IACA,IAAIJ,OAAO,CAACG,QAAQ,EAAE;MACpBuB,QAAQ,GAAGA,QAAQ,CAACC,MAAM,CACvBC,OAAO,IAAKA,OAAO,CAACnB,KAAK,IAAIsB,UAAU,CAAC/B,OAAO,CAACG,QAAQ,CAC3D,CAAC;IACH;;IAEA;IACA,IAAIH,OAAO,CAACK,QAAQ,EAAE;MACpBqB,QAAQ,GAAGA,QAAQ,CAACC,MAAM,CACvBC,OAAO,IAAKA,OAAO,CAACvB,QAAQ,KAAKL,OAAO,CAACK,QAC5C,CAAC;IACH;;IAEA;IACA,IAAIL,OAAO,CAACM,SAAS,KAAK,KAAK,EAAE;MAC/BoB,QAAQ,CAACM,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACxB,KAAK,GAAGyB,CAAC,CAACzB,KAAK,CAAC;IAC5C,CAAC,MAAM,IAAIT,OAAO,CAACM,SAAS,KAAK,MAAM,EAAE;MACvCoB,QAAQ,CAACM,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACzB,KAAK,GAAGwB,CAAC,CAACxB,KAAK,CAAC;IAC5C;IAEAhB,mBAAmB,CAACiC,QAAQ,CAAC;EAC/B,CAAC;EAED9C,SAAS,CAAC,MAAM;IACd6C,YAAY,CAAC,CAAC;EAChB,CAAC,EAAE,CAACzB,OAAO,EAAEV,QAAQ,CAAC,CAAC;EAEvB,MAAM6C,kBAAkB,GAAIC,CAAC,IAAK;IAChC,MAAM;MAAElC,IAAI;MAAEmC;IAAM,CAAC,GAAGD,CAAC,CAACE,MAAM;IAChCrC,UAAU,CAAC;MAAE,GAAGD,OAAO;MAAE,CAACE,IAAI,GAAGmC;IAAM,CAAC,CAAC;EAC3C,CAAC;EAED,MAAME,eAAe,GAAIX,OAAO,IAAK;IACnC,IAAI,CAAAzC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEqD,IAAI,MAAK,OAAO,EAAE;MAC1BC,KAAK,CAAC,6DAA6D,CAAC;MACpE;IACF;IAEA,IAAI,CAACtD,IAAI,EAAE;MACTsD,KAAK,CAAC,6DAA6D,CAAC;MACpE;IACF;IAEA,IAAIb,OAAO,CAAClB,KAAK,IAAI,CAAC,EAAE;MACtB+B,KAAK,CAAC,6CAA6C,CAAC;MACpD;IACF;IAEA9B,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAEgB,OAAO,CAAC,CAAC,CAAC;;IAEvD;IACAjC,YAAY,CAAE+C,SAAS,IAAK;MAC1B,MAAMC,YAAY,GAAGD,SAAS,CAACE,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKlB,OAAO,CAACkB,EAAE,CAAC;MACrE,IAAIH,YAAY,EAAE;QAChB,OAAOD,SAAS,CAACK,GAAG,CAAEF,IAAI,IACxBA,IAAI,CAACC,EAAE,KAAKlB,OAAO,CAACkB,EAAE,GAAG;UAAE,GAAGD,IAAI;UAAEG,QAAQ,EAAEH,IAAI,CAACG,QAAQ,GAAG;QAAE,CAAC,GAAGH,IACtE,CAAC;MACH,CAAC,MAAM;QACL,OAAO,CAAC,GAAGH,SAAS,EAAE;UAAE,GAAGd,OAAO;UAAEoB,QAAQ,EAAE;QAAE,CAAC,CAAC;MACpD;IACF,CAAC,CAAC;;IAEF;IACAjD,aAAa,CAAEkD,SAAS,IAAKA,SAAS,GAAGrB,OAAO,CAACnB,KAAK,CAAC;;IAEvD;IACAZ,gBAAgB,CAAC,IAAI,CAAC;;IAEtB;IACAgB,KAAK,CAAC,iDAAiD,EAAE;MACvDqC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEC,SAAS,EAAE3B,OAAO,CAACkB,EAAE;QAAEE,QAAQ,EAAE;MAAE,CAAC;IAC7D,CAAC,CAAC,CACClC,IAAI,CAAEC,GAAG,IAAK;MACb,IAAI,CAACA,GAAG,CAACE,EAAE,EAAE;QACX,MAAM,IAAIC,KAAK,CAAC,gCAAgC,CAAC;MACnD;MACA3B,WAAW,CAAEiE,YAAY,IACvBA,YAAY,CAACT,GAAG,CAAEU,CAAC,IACjBA,CAAC,CAACX,EAAE,KAAKlB,OAAO,CAACkB,EAAE,GAAG;QAAE,GAAGW,CAAC;QAAE/C,KAAK,EAAE+C,CAAC,CAAC/C,KAAK,GAAG;MAAE,CAAC,GAAG+C,CACvD,CACF,CAAC;IACH,CAAC,CAAC,CACDnC,KAAK,CAAEC,GAAG,IAAKZ,OAAO,CAACa,KAAK,CAAC,yBAAyB,EAAED,GAAG,CAAC,CAAC;EAClE,CAAC;EAED,MAAMmC,sBAAsB,GAAIH,SAAS,IAAK;IAC5C5D,YAAY,CAAE+C,SAAS,IAAK;MAC1B,OAAOA,SAAS,CACbK,GAAG,CAAEF,IAAI,IACRA,IAAI,CAACC,EAAE,KAAKS,SAAS,GACjB;QAAE,GAAGV,IAAI;QAAEG,QAAQ,EAAEH,IAAI,CAACG,QAAQ,GAAG;MAAE,CAAC,GACxCH,IACN,CAAC,CACAlB,MAAM,CAAEkB,IAAI,IAAKA,IAAI,CAACG,QAAQ,GAAG,CAAC,CAAC;IACxC,CAAC,CAAC;IAEF,MAAMpB,OAAO,GAAGlC,SAAS,CAACkD,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKS,SAAS,CAAC;IAC/D,IAAI3B,OAAO,EAAE;MACX7B,aAAa,CAAEkD,SAAS,IAAKU,IAAI,CAACC,GAAG,CAACX,SAAS,GAAGrB,OAAO,CAACnB,KAAK,EAAE,CAAC,CAAC,CAAC;IACtE;EACF,CAAC;EAED,MAAMoD,kBAAkB,GAAGA,CAAA,KAAM;IAE/B,IAAI,CAAA1E,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEqD,IAAI,MAAK,OAAO,EAAE;MAC1BC,KAAK,CAAC,iDAAiD,CAAC;MACxD;IACF;IAEA,IAAI/C,SAAS,CAACoE,MAAM,KAAK,CAAC,EAAE;MAC1BrB,KAAK,CAAC,uBAAuB,CAAC;MAC9B;IACF;IAEA,MAAMsB,WAAW,GAAG5E,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE6E,GAAG;IAC7B,MAAMC,cAAc,GAAGvE,SAAS,CAACiC,MAAM,CACpCkB,IAAI,IAAK,CAACqB,KAAK,CAACnC,UAAU,CAACc,IAAI,CAACpC,KAAK,CAAC,CAAC,IAAIsB,UAAU,CAACc,IAAI,CAACpC,KAAK,CAAC,GAAG,CACvE,CAAC;IAED,IAAIwD,cAAc,CAACH,MAAM,KAAKpE,SAAS,CAACoE,MAAM,EAAE;MAC9CrB,KAAK,CAAC,yEAAyE,CAAC;MAChF;IACF;IAEA,IAAI3C,UAAU,IAAI,CAAC,EAAE;MACnB2C,KAAK,CAAC,6DAA6D,CAAC;MACpE9B,OAAO,CAACa,KAAK,CAAC,wBAAwB,EAAE1B,UAAU,CAAC;MACnD;IACF;IAEAa,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAE;MAAEmD,WAAW;MAAEE,cAAc;MAAEnE;IAAW,CAAC,CAAC,CAAC,CAAC;;IAEpFT,QAAQ,CAAC,gBAAgB,EAAE;MACzB8E,KAAK,EAAE;QACLzE,SAAS,EAAEuE,cAAc;QACzBnE,UAAU;QACVX;MACF;IACF,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,MAAMiF,iBAAiB,GAAGA,CAAChC,CAAC,EAAEmB,SAAS,KAAK;IAC1C,MAAM;MAAErD,IAAI;MAAEmC;IAAM,CAAC,GAAGD,CAAC,CAACE,MAAM;IAChC/C,WAAW,CAAEiE,YAAY,IACvBA,YAAY,CAACT,GAAG,CAAEnB,OAAO,IACvBA,OAAO,CAACkB,EAAE,KAAKS,SAAS,GAAG;MAAE,GAAG3B,OAAO;MAAE,CAAC1B,IAAI,GAAGmC;IAAM,CAAC,GAAGT,OAC7D,CACF,CAAC;EACH,CAAC;EAGD,oBACE3C,OAAA;IAAKoF,SAAS,EAAC,cAAc;IAAAC,QAAA,gBAC3BrF,OAAA;MAAIoF,SAAS,EAAC,eAAe;MAAAC,QAAA,EAAC;IAAoB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAGvDzF,OAAA;MAAKoF,SAAS,EAAC,SAAS;MAAAC,QAAA,gBACtBrF,OAAA;QACE0F,IAAI,EAAC,MAAM;QACXzE,IAAI,EAAC,MAAM;QACX0E,WAAW,EAAC,mBAAmB;QAC/BvC,KAAK,EAAErC,OAAO,CAACE,IAAK;QACpB2E,QAAQ,EAAE1C,kBAAmB;QAC7BkC,SAAS,EAAC;MAAc;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzB,CAAC,eACFzF,OAAA;QACE0F,IAAI,EAAC,QAAQ;QACbzE,IAAI,EAAC,UAAU;QACf0E,WAAW,EAAC,kBAAe;QAC3BvC,KAAK,EAAErC,OAAO,CAACI,QAAS;QACxByE,QAAQ,EAAE1C,kBAAmB;QAC7BkC,SAAS,EAAC;MAAc;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzB,CAAC,eACFzF,OAAA;QACE0F,IAAI,EAAC,QAAQ;QACbzE,IAAI,EAAC,UAAU;QACf0E,WAAW,EAAC,kBAAe;QAC3BvC,KAAK,EAAErC,OAAO,CAACG,QAAS;QACxB0E,QAAQ,EAAE1C,kBAAmB;QAC7BkC,SAAS,EAAC;MAAc;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzB,CAAC,eACFzF,OAAA;QACEiB,IAAI,EAAC,WAAW;QAChBmC,KAAK,EAAErC,OAAO,CAACM,SAAU;QACzBuE,QAAQ,EAAE1C,kBAAmB;QAC7BkC,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAEzBrF,OAAA;UAAQoD,KAAK,EAAC,EAAE;UAAAiC,QAAA,EAAC;QAAkB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAC5CzF,OAAA;UAAQoD,KAAK,EAAC,KAAK;UAAAiC,QAAA,EAAC;QAAU;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACvCzF,OAAA;UAAQoD,KAAK,EAAC,MAAM;UAAAiC,QAAA,EAAC;QAAW;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnC,CAAC,eACTzF,OAAA;QACEiB,IAAI,EAAC,UAAU;QACfmC,KAAK,EAAErC,OAAO,CAACK,QAAS;QACxBwE,QAAQ,EAAE1C,kBAAmB;QAC7BkC,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAEzBrF,OAAA;UAAQoD,KAAK,EAAC,EAAE;UAAAiC,QAAA,EAAC;QAAqB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,EAC9CI,KAAK,CAACC,IAAI,CAAC,IAAIC,GAAG,CAAC1F,QAAQ,CAACyD,GAAG,CAAEU,CAAC,IAAKA,CAAC,CAACpD,QAAQ,CAAC,CAAC,CAAC,CAAC0C,GAAG,CAAE1C,QAAQ,iBACjEpB,OAAA;UAAuBoD,KAAK,EAAEhC,QAAS;UAAAiE,QAAA,EACpCjE;QAAQ,GADEA,QAAQ;UAAAkE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEb,CACT,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAGNzF,OAAA;MAAKoF,SAAS,EAAC,cAAc;MAAAC,QAAA,EAC1B9E,gBAAgB,CAACuD,GAAG,CAAEnB,OAAO,iBAC5B3C,OAAA;QAAsBoF,SAAS,EAAC,cAAc;QAAAC,QAAA,gBAC5CrF,OAAA;UACEgG,GAAG,EAAE9F,IAAI,GAAIyC,OAAO,CAACsD,KAAK,IAAInG,YAAY,GAAID,eAAgB,CAAC;UAAA;UAC/DqG,GAAG,EAAEvD,OAAO,CAAC1B,IAAK;UAClBmE,SAAS,EAAC;QAAe;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1B,CAAC,eACFzF,OAAA;UAAIoF,SAAS,EAAC,cAAc;UAAAC,QAAA,EAAE1C,OAAO,CAAC1B;QAAI;UAAAqE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAChDzF,OAAA;UAAGoF,SAAS,EAAC,eAAe;UAAAC,QAAA,GAAC,GAAC,EAAC1C,OAAO,CAACnB,KAAK,CAAC2E,OAAO,CAAC,CAAC,CAAC;QAAA;UAAAb,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC5DzF,OAAA;UAAGoF,SAAS,EAAC,eAAe;UAAAC,QAAA,GAAC,SAAO,EAACnF,IAAI,GAAGyC,OAAO,CAAClB,KAAK,GAAG,eAAe;QAAA;UAAA6D,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EAE/E,CAAAvF,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEqD,IAAI,MAAK,OAAO,iBACjCvD,OAAA;UACEoF,SAAS,EAAC,qBAAqB;UAC/BgB,OAAO,EAAEA,CAAA,KAAM9C,eAAe,CAACX,OAAO,CAAE;UAAA0C,QAAA,EACzC;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CACT;MAAA,GAjBmB9C,OAAO,CAACkB,EAAE;QAAAyB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAkBf,CACN;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,EAGL9E,aAAa,iBACZX,OAAA;MAAKoF,SAAS,EAAC,cAAc;MAAAC,QAAA,gBAC3BrF,OAAA;QAAAqF,QAAA,EAAI;MAAU;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACnBzF,OAAA;QAAAqF,QAAA,GAAG,sBAAoB,EAAC5E,SAAS,CAACoE,MAAM;MAAA;QAAAS,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC7CzF,OAAA;QAAAqF,QAAA,GAAG,yBACsB,EAAC,GAAG,EAC1B5E,SAAS,CAAC4F,MAAM,CAAC,CAACC,GAAG,EAAE1C,IAAI,KAAK0C,GAAG,GAAG1C,IAAI,CAACG,QAAQ,EAAE,CAAC,CAAC;MAAA;QAAAuB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACvD,CAAC,eACJzF,OAAA;QAAIoF,SAAS,EAAC,YAAY;QAAAC,QAAA,EACvB5E,SAAS,CAACqD,GAAG,CAAEF,IAAI,iBAClB5D,OAAA;UAAkBoF,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACrCrF,OAAA;YAAAqF,QAAA,EAAOzB,IAAI,CAAC3C;UAAI;YAAAqE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACxBzF,OAAA;YAAAqF,QAAA,GAAM,GACH,EAACzB,IAAI,CAACpC,KAAK,CAAC2E,OAAO,CAAC,CAAC,CAAC,EAAC,KAAG,EAACvC,IAAI,CAACG,QAAQ;UAAA;YAAAuB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrC,CAAC,eACPzF,OAAA;YACEoF,SAAS,EAAC,kBAAkB;YAC5BgB,OAAO,EAAEA,CAAA,KAAM3B,sBAAsB,CAACb,IAAI,CAACC,EAAE,CAAE;YAAAwB,QAAA,EAChD;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA,GAVF7B,IAAI,CAACC,EAAE;UAAAyB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAWZ,CACL;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC,eACLzF,OAAA;QAAGoF,SAAS,EAAC,YAAY;QAAAC,QAAA,GAAC,UAAQ,EAACxE,UAAU,CAACsF,OAAO,CAAC,CAAC,CAAC;MAAA;QAAAb,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC7DzF,OAAA;QAAQoF,SAAS,EAAC,iBAAiB;QAACgB,OAAO,EAAExB,kBAAmB;QAAAS,QAAA,EAAC;MAEjE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CACN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACtF,EAAA,CAjUIF,WAAW;EAAA,QACEL,WAAW;AAAA;AAAA2G,EAAA,GADxBtG,WAAW;AAmUjB,eAAeA,WAAW;AAAC,IAAAsG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}